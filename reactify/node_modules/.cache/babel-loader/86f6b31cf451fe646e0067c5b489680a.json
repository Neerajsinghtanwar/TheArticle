{"ast":null,"code":"var _jsxFileName = \"/home/neeraj/Desktop/the-artcles/src/components/Article/WriteArticle.js\";\nimport React from \"react\";\nimport { CKEditor } from \"ckeditor4-react\";\nimport { connect } from \"react-redux\";\nimport { axios } from \"../../Store/actions/actions\";\nimport '../HomePage/Home.css';\nimport $ from \"jquery\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass WriteArticle extends React.Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      show: false,\n      content: null,\n      thumbnail: null,\n      title: null,\n      description: null,\n      category: null,\n      categories: null\n    };\n\n    this.handleFileSelected = e => {\n      const files = e.target.files[0];\n      this.setState({\n        thumbnail: files\n      });\n    };\n\n    this.loadCategories = () => {\n      let endpoint = `create-article`;\n      let token = this.props.user.token;\n      axios.get(endpoint, token).then(response => {\n        const responseData = response.data;\n        this.setState({\n          categories: responseData.category\n        });\n      });\n    };\n\n    this.save = () => {\n      let data = new FormData();\n\n      if (this.state.title === null) {\n        document.getElementById(\"titlevalid\").innerText = \"*this field is required\";\n      } else {\n        document.getElementById(\"titlevalid\").innerText = \"\";\n      }\n\n      if (this.state.description == null) {\n        document.getElementById(\"descvalid\").innerText = \"*this field is required\";\n      } else {\n        document.getElementById(\"descvalid\").innerText = \"\";\n      }\n\n      if (this.state.content == null) {\n        document.getElementById(\"contentvalid\").innerText = \"*this field is required\";\n      } else {\n        document.getElementById(\"contentvalid\").innerText = \"\";\n      }\n\n      if (this.state.title !== null && this.state.description !== null && this.state.content !== null) {\n        data.append(\"title\", this.state.title);\n        data.append(\"category\", this.state.category);\n        data.append(\"user\", this.props.user.username);\n        data.append(\"description\", this.state.description);\n        data.append(\"thumbnail\", this.state.thumbnail);\n        data.append(\"content\", this.state.content);\n        let endpoint = `create-article`;\n        let token = this.props.user.token;\n        axios.post(endpoint, data, token).then(response => {\n          const responseData = response.data;\n          let msg = responseData.error || responseData.msg;\n\n          if (responseData.success) {\n            document.getElementById(\"last_updated\").className = \"alert alert-success\";\n            document.getElementById(\"last_updated\").innerText = msg;\n            window.scrollTo(0, 0);\n          } else {\n            document.getElementById(\"last_updated\").className = \"alert alert-danger\";\n            document.getElementById(\"last_updated\").innerText = msg;\n            window.scrollTo(0, 0);\n          }\n        });\n      }\n    };\n\n    this.showOutput = () => {\n      this.setState({\n        show: !this.state.show\n      });\n    };\n  }\n\n  componentDidMount() {\n    this.loadCategories();\n  }\n\n  render() {\n    const show = this.state.show;\n    console.log({\n      \"cat\": this.state.category\n    });\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          textAlign: \"center\",\n          position: \"relative\",\n          width: \"100%\"\n        },\n        id: \"last_updated\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container-fluid\",\n        style: {\n          padding: \"35px\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"section-header container\",\n          children: /*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"today\",\n            children: \"Publish New Article\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 118,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginTop: \"-70px\"\n          },\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"myBtn\",\n            onClick: this.showOutput,\n            id: \"btn1995\",\n            children: this.state.show ? \"Hide Output\" : \"Show Output\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 122,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: this.state.show ? \"row\" : null,\n          style: {\n            textAlign: \"center\",\n            marginTop: \"130px\"\n          },\n          id: \"live_editor\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            id: \"myDIV\",\n            className: this.state.show ? \"col-sm-6\" : \"container\",\n            children: [/*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 137,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Title:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 138,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\" // onChange={this.setState({content: e.target.value})}\n              ,\n              onChange: e => this.setState({\n                title: e.target.value\n              }),\n              id: \"title_write_article\",\n              className: \"form-control\",\n              placeholder: \"Title\",\n              \"aria-label\": \"Recipient's username\",\n              \"aria-describedby\": \"basic-addon2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 139,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              style: {\n                color: \"red\",\n                textAlign: \"left\"\n              },\n              id: \"titlevalid\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 149,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 150,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Category:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 151,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              className: \"browser-default custom-select\",\n              onChange: e => this.setState({\n                category: e.target.value\n              }),\n              children: [this.state.categories ? this.state.categories.map((item, index) =>\n              /*#__PURE__*/\n              // <option selected>Open this select menu</option>\n              _jsxDEV(\"option\", {\n                value: item,\n                children: item\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 155,\n                columnNumber: 19\n              }, this)) : null, \";\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 152,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 158,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 159,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 160,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Description:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 161,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              id: \"description_write_article\",\n              className: \"form-control\",\n              onChange: e => this.setState({\n                description: e.target.value\n              }),\n              placeholder: \"Concise and catchy description of your article in 250 characters\",\n              \"aria-label\": \"Recipient's username\",\n              \"aria-describedby\": \"basic-addon2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 162,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              style: {\n                color: \"red\",\n                textAlign: \"left\"\n              },\n              id: \"descvalid\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 171,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 172,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Content:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 174,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(CKEditor, {\n              config: {\n                extraPlugins: [\"justify\", \"showblocks\", \"preview\", \"font\", \"div\", \"colorbutton\", \"autogrow\", \"image\", \"flash\", \"smiley\", \"iframe\", \"find\", \"filebrowser\", \"uploadimage\"],\n                filebrowserUploadMethod: \"form\",\n                filebrowserImageUploadUrl: \"/upload/\"\n              },\n              type: \"classic\",\n              onResize: () => $(\"#cke_editor1\").css(\"width\", \"100%\"),\n              onChange: evt => this.setState({\n                content: evt.editor.getData()\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 175,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              style: {\n                color: \"red\",\n                textAlign: \"left\"\n              },\n              id: \"contentvalid\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 201,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 202,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Thumbnail:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 204,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"file\",\n              name: \"file\",\n              id: \"file\",\n              accept: \"image/x-png,image/gif,image/jpeg\",\n              onChange: this.handleFileSelected\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 205,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              style: {\n                color: \"red\",\n                textAlign: \"left\"\n              },\n              id: \"thumbnailvalid\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 212,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 213,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              onClick: this.save,\n              type: \"submit\",\n              className: \"btn btn-primary\",\n              value: \"Save\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 215,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 221,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 222,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 223,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 136,\n            columnNumber: 15\n          }, this), show ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"myText col-sm-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 228,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n              children: \"Output\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 229,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 230,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                height: \"800px\"\n              },\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  textAlign: \"justify\"\n                },\n                dangerouslySetInnerHTML: {\n                  __html: this.state.content\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 232,\n                columnNumber: 23\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 231,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 227,\n            columnNumber: 19\n          }, this) : null]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 9\n    }, this);\n  }\n\n}\n\n;\n\nconst mapStateToProps = state => ({\n  user: state.userData.cardData\n});\n\nexport default connect(mapStateToProps)(WriteArticle);","map":{"version":3,"sources":["/home/neeraj/Desktop/the-artcles/src/components/Article/WriteArticle.js"],"names":["React","CKEditor","connect","axios","$","WriteArticle","Component","state","show","content","thumbnail","title","description","category","categories","handleFileSelected","e","files","target","setState","loadCategories","endpoint","token","props","user","get","then","response","responseData","data","save","FormData","document","getElementById","innerText","append","username","post","msg","error","success","className","window","scrollTo","showOutput","componentDidMount","render","console","log","textAlign","position","width","padding","marginTop","value","color","map","item","index","extraPlugins","filebrowserUploadMethod","filebrowserImageUploadUrl","css","evt","editor","getData","height","__html","mapStateToProps","userData","cardData"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { CKEditor } from \"ckeditor4-react\";\nimport { connect } from \"react-redux\";\nimport {axios} from \"../../Store/actions/actions\";\nimport '../HomePage/Home.css'\nimport $ from \"jquery\";\n\nclass WriteArticle extends React.Component {\n\n  state = {\n    show: false,\n    content: null,\n    thumbnail: null,\n    title: null,\n    description: null,\n    category: null,\n    categories: null\n  };\n\n  componentDidMount() {\n    this.loadCategories()\n  }\n\n  handleFileSelected = (e) => {\n    const files = e.target.files[0];\n    this.setState({thumbnail: files});\n  };\n\n  loadCategories = () => {\n    let endpoint = `create-article`\n    let token = this.props.user.token\n\n    axios\n      .get(endpoint, token)\n      .then((response) => {\n\n      const responseData = response.data;\n      this.setState({categories: responseData.category})\n    });\n  };\n\n  save = () => {\n  let data = new FormData();\n\n  if (this.state.title === null) {\n    document.getElementById(\"titlevalid\").innerText =\n        \"*this field is required\";\n  } else {\n    document.getElementById(\"titlevalid\").innerText = \"\";\n  }\n  if (this.state.description == null) {\n    document.getElementById(\"descvalid\").innerText =\n        \"*this field is required\";\n  } else {\n    document.getElementById(\"descvalid\").innerText = \"\";\n  }\n  if (this.state.content == null) {\n    document.getElementById(\"contentvalid\").innerText =\n        \"*this field is required\";\n  } else {\n    document.getElementById(\"contentvalid\").innerText = \"\";\n  }\n  if (\n      this.state.title !== null &&\n      this.state.description !== null &&\n      this.state.content !== null\n  ) {\n\n    data.append(\"title\", this.state.title);\n    data.append(\"category\", this.state.category);\n    data.append(\"user\", this.props.user.username);\n    data.append(\"description\", this.state.description);\n    data.append(\"thumbnail\", this.state.thumbnail);\n    data.append(\"content\", this.state.content);\n\n    let endpoint = `create-article`\n    let token = this.props.user.token\n\n    axios\n      .post(endpoint, data, token)\n      .then((response) => {\n\n      const responseData = response.data;\n      let msg = responseData.error || responseData.msg\n      if (responseData.success) {\n        document.getElementById(\"last_updated\").className =\n            \"alert alert-success\";\n        document.getElementById(\"last_updated\").innerText = msg;\n        window.scrollTo(0, 0);\n      } else {\n        document.getElementById(\"last_updated\").className =\n            \"alert alert-danger\";\n        document.getElementById(\"last_updated\").innerText = msg;\n        window.scrollTo(0, 0);\n      }\n    });\n  }\n  };\n\n  showOutput = () => {\n    this.setState({show: !this.state.show})\n  };\n\n  render() {\n    const show = this.state.show\n    console.log({\"cat\":this.state.category})\n\n    return (\n        <div>\n          <div\n              style={{textAlign: \"center\", position: \"relative\", width: \"100%\"}}\n              id=\"last_updated\"\n          />\n\n          <div className=\"container-fluid\" style={{padding: \"35px\"}}>\n\n            <div className=\"section-header container\">\n                <h1 className=\"today\">Publish New Article</h1>\n            </div>\n\n            <div style={{marginTop: \"-70px\"}}>\n              <button\n                  className=\"myBtn\"\n\n                  onClick={this.showOutput}\n                  id=\"btn1995\"\n              >\n                {this.state.show ? \"Hide Output\" : \"Show Output\"}\n              </button>\n              </div>\n\n            <div className={this.state.show ? \"row\" : null}\n                style={{textAlign: \"center\", marginTop: \"130px\"}}\n                id=\"live_editor\"\n            >\n              <div id=\"myDIV\" className={this.state.show ? \"col-sm-6\" : \"container\"}>\n                <br/>\n                <label>Title:</label>\n                <input\n                    type=\"text\"\n                    // onChange={this.setState({content: e.target.value})}\n                    onChange={(e) => this.setState({title: e.target.value})}\n                    id=\"title_write_article\"\n                    className=\"form-control\"\n                    placeholder=\"Title\"\n                    aria-label=\"Recipient's username\"\n                    aria-describedby=\"basic-addon2\"\n                />\n                <p style={{color: \"red\", textAlign: \"left\"}} id=\"titlevalid\"></p>\n                <br/>\n                <label>Category:</label>\n                <select className=\"browser-default custom-select\" onChange={(e) => this.setState({category: e.target.value})} >\n                  {this.state.categories?this.state.categories.map((item, index) => (\n                  // <option selected>Open this select menu</option>\n                  <option value={item} >{item}</option>\n                  )):null};\n                </select>\n                <br/>\n                <br/>\n                <br/>\n                <label>Description:</label>\n                <input\n                    type=\"text\"\n                    id=\"description_write_article\"\n                    className=\"form-control\"\n                    onChange={(e)=>this.setState({description: e.target.value})}\n                    placeholder=\"Concise and catchy description of your article in 250 characters\"\n                    aria-label=\"Recipient's username\"\n                    aria-describedby=\"basic-addon2\"\n                />\n                <p style={{color: \"red\", textAlign: \"left\"}} id=\"descvalid\"></p>\n                <br/>\n\n                <label>Content:</label>\n                <CKEditor\n                    config={{\n                      extraPlugins: [\n                        \"justify\",\n                        \"showblocks\",\n                        \"preview\",\n                        \"font\",\n                        \"div\",\n                        \"colorbutton\",\n                        \"autogrow\",\n                        \"image\",\n                        \"flash\",\n                        \"smiley\",\n                        \"iframe\",\n                        \"find\",\n                        \"filebrowser\",\n                        \"uploadimage\",\n                      ],\n                      filebrowserUploadMethod: \"form\",\n                      filebrowserImageUploadUrl: \"/upload/\",\n                    }}\n                    type=\"classic\"\n                    onResize={() => $(\"#cke_editor1\").css(\"width\", \"100%\")}\n                    onChange={(evt) => this.setState({content: evt.editor.getData()})}\n                />\n\n                <p style={{color: \"red\", textAlign: \"left\"}} id=\"contentvalid\"/>\n                <br/>\n\n                <label>Thumbnail:</label>\n                <input\n                    type=\"file\"\n                    name=\"file\"\n                    id=\"file\"\n                    accept=\"image/x-png,image/gif,image/jpeg\"\n                    onChange={this.handleFileSelected}\n                />\n                <p style={{color: \"red\", textAlign: \"left\"}} id=\"thumbnailvalid\" ></p>\n                <br/>\n\n                <input\n                    onClick={this.save}\n                    type=\"submit\"\n                    className=\"btn btn-primary\"\n                    value=\"Save\"\n                />\n                <br/>\n                <br/>\n                <br/>\n              </div>\n\n              {show ? (\n                  <div className=\"myText col-sm-6\">\n                    <br/>\n                    <h3>Output</h3>\n                    <hr/>\n                    <div style={{height: \"800px\"}}>\n                      <div\n                          style={{textAlign: \"justify\"}}\n                          dangerouslySetInnerHTML={{__html: this.state.content}}\n                      ></div>\n                    </div>\n                  </div>\n              ) : null}\n            </div>\n          </div>\n        </div>\n    );\n  };\n};\n\nconst mapStateToProps = state =>({\n    user:state.userData.cardData\n})\n\n\nexport default connect(mapStateToProps)(WriteArticle);"]},"metadata":{},"sourceType":"module"}