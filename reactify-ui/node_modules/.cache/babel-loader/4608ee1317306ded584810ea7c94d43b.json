{"ast":null,"code":"import _classCallCheck from\"/home/neeraj/Desktop/the-artcles/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/home/neeraj/Desktop/the-artcles/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/home/neeraj/Desktop/the-artcles/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/home/neeraj/Desktop/the-artcles/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React from\"react\";import{CKEditor}from\"ckeditor4-react\";import{connect}from\"react-redux\";import{axios}from\"../../Store/actions/actions\";import'../HomePage/Home.css';import $ from\"jquery\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var WriteArticle=/*#__PURE__*/function(_React$Component){_inherits(WriteArticle,_React$Component);var _super=_createSuper(WriteArticle);function WriteArticle(){var _this;_classCallCheck(this,WriteArticle);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={show:false,content:null,thumbnail:null,title:null,description:null,category:null,categories:null};_this.handleFileSelected=function(e){var files=e.target.files[0];_this.setState({thumbnail:files});};_this.loadCategories=function(){var endpoint=\"create-article\";var token=_this.props.user.token;axios.get(endpoint,token).then(function(response){var responseData=response.data;_this.setState({categories:responseData.category});});};_this.save=function(){var data=new FormData();if(_this.state.title===null){document.getElementById(\"titlevalid\").innerText=\"*this field is required\";}else{document.getElementById(\"titlevalid\").innerText=\"\";}if(_this.state.description==null){document.getElementById(\"descvalid\").innerText=\"*this field is required\";}else{document.getElementById(\"descvalid\").innerText=\"\";}if(_this.state.content==null){document.getElementById(\"contentvalid\").innerText=\"*this field is required\";}else{document.getElementById(\"contentvalid\").innerText=\"\";}if(_this.state.title!==null&&_this.state.description!==null&&_this.state.content!==null){data.append(\"title\",_this.state.title);data.append(\"category\",_this.state.category);data.append(\"user\",_this.props.user.username);data.append(\"description\",_this.state.description);data.append(\"thumbnail\",_this.state.thumbnail);data.append(\"content\",_this.state.content);var endpoint=\"create-article\";var token=_this.props.user.token;axios.post(endpoint,data,token).then(function(response){var responseData=response.data;var msg=responseData.error||responseData.msg;if(responseData.success){document.getElementById(\"last_updated\").className=\"alert alert-success\";document.getElementById(\"last_updated\").innerText=msg;window.scrollTo(0,0);}else{document.getElementById(\"last_updated\").className=\"alert alert-danger\";document.getElementById(\"last_updated\").innerText=msg;window.scrollTo(0,0);}});}};_this.showOutput=function(){_this.setState({show:!_this.state.show});};return _this;}_createClass(WriteArticle,[{key:\"componentDidMount\",value:function componentDidMount(){this.loadCategories();}},{key:\"render\",value:function render(){var _this2=this;var show=this.state.show;console.log({\"cat\":this.state.category});return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{style:{textAlign:\"center\",position:\"relative\",width:\"100%\"},id:\"last_updated\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"container-fluid\",style:{padding:\"35px\"},children:[/*#__PURE__*/_jsx(\"div\",{className:\"section-header container\",children:/*#__PURE__*/_jsx(\"h1\",{className:\"today\",children:\"Publish New Article\"})}),/*#__PURE__*/_jsx(\"div\",{style:{marginTop:\"-70px\"},children:/*#__PURE__*/_jsx(\"button\",{className:\"myBtn\",onClick:this.showOutput,id:\"btn1995\",children:this.state.show?\"Hide Output\":\"Show Output\"})}),/*#__PURE__*/_jsxs(\"div\",{className:this.state.show?\"row\":null,style:{textAlign:\"center\",marginTop:\"130px\"},id:\"live_editor\",children:[/*#__PURE__*/_jsxs(\"div\",{id:\"myDIV\",className:this.state.show?\"col-sm-6\":\"container\",children:[/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"label\",{children:\"Title:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\"// onChange={this.setState({content: e.target.value})}\n,onChange:function onChange(e){return _this2.setState({title:e.target.value});},id:\"title_write_article\",className:\"form-control\",placeholder:\"Title\",\"aria-label\":\"Recipient's username\",\"aria-describedby\":\"basic-addon2\"}),/*#__PURE__*/_jsx(\"p\",{style:{color:\"red\",textAlign:\"left\"},id:\"titlevalid\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"label\",{children:\"Category:\"}),/*#__PURE__*/_jsxs(\"select\",{className:\"browser-default custom-select\",onChange:function onChange(e){return _this2.setState({category:e.target.value});},children:[this.state.categories?this.state.categories.map(function(item,index){return/*#__PURE__*/ (// <option selected>Open this select menu</option>\n_jsx(\"option\",{value:item,children:item}));}):null,\";\"]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"label\",{children:\"Description:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"description_write_article\",className:\"form-control\",onChange:function onChange(e){return _this2.setState({description:e.target.value});},placeholder:\"Concise and catchy description of your article in 250 characters\",\"aria-label\":\"Recipient's username\",\"aria-describedby\":\"basic-addon2\"}),/*#__PURE__*/_jsx(\"p\",{style:{color:\"red\",textAlign:\"left\"},id:\"descvalid\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"label\",{children:\"Content:\"}),/*#__PURE__*/_jsx(CKEditor,{config:{extraPlugins:[\"justify\",\"showblocks\",\"preview\",\"font\",\"div\",\"colorbutton\",\"autogrow\",\"image\",\"flash\",\"smiley\",\"iframe\",\"find\",\"filebrowser\",\"uploadimage\"],filebrowserUploadMethod:\"form\",filebrowserImageUploadUrl:\"/upload/\"},type:\"classic\",onResize:function onResize(){return $(\"#cke_editor1\").css(\"width\",\"100%\");},onChange:function onChange(evt){return _this2.setState({content:evt.editor.getData()});}}),/*#__PURE__*/_jsx(\"p\",{style:{color:\"red\",textAlign:\"left\"},id:\"contentvalid\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"label\",{children:\"Thumbnail:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",name:\"file\",id:\"file\",accept:\"image/x-png,image/gif,image/jpeg\",onChange:this.handleFileSelected}),/*#__PURE__*/_jsx(\"p\",{style:{color:\"red\",textAlign:\"left\"},id:\"thumbnailvalid\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{onClick:this.save,type:\"submit\",className:\"btn btn-primary\",value:\"Save\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{})]}),show?/*#__PURE__*/_jsxs(\"div\",{className:\"myText col-sm-6\",children:[/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"h3\",{children:\"Output\"}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsx(\"div\",{style:{height:\"800px\"},children:/*#__PURE__*/_jsx(\"div\",{style:{textAlign:\"justify\"},dangerouslySetInnerHTML:{__html:this.state.content}})})]}):null]})]})]});}}]);return WriteArticle;}(React.Component);;var mapStateToProps=function mapStateToProps(state){return{user:state.userData.cardData};};export default connect(mapStateToProps)(WriteArticle);","map":{"version":3,"sources":["/home/neeraj/Desktop/the-artcles/src/components/Article/WriteArticle.js"],"names":["React","CKEditor","connect","axios","$","WriteArticle","state","show","content","thumbnail","title","description","category","categories","handleFileSelected","e","files","target","setState","loadCategories","endpoint","token","props","user","get","then","response","responseData","data","save","FormData","document","getElementById","innerText","append","username","post","msg","error","success","className","window","scrollTo","showOutput","console","log","textAlign","position","width","padding","marginTop","value","color","map","item","index","extraPlugins","filebrowserUploadMethod","filebrowserImageUploadUrl","css","evt","editor","getData","height","__html","Component","mapStateToProps","userData","cardData"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { CKEditor } from \"ckeditor4-react\";\nimport { connect } from \"react-redux\";\nimport {axios} from \"../../Store/actions/actions\";\nimport '../HomePage/Home.css'\nimport $ from \"jquery\";\n\nclass WriteArticle extends React.Component {\n\n  state = {\n    show: false,\n    content: null,\n    thumbnail: null,\n    title: null,\n    description: null,\n    category: null,\n    categories: null\n  };\n\n  componentDidMount() {\n    this.loadCategories()\n  }\n\n  handleFileSelected = (e) => {\n    const files = e.target.files[0];\n    this.setState({thumbnail: files});\n  };\n\n  loadCategories = () => {\n    let endpoint = `create-article`\n    let token = this.props.user.token\n\n    axios\n      .get(endpoint, token)\n      .then((response) => {\n\n      const responseData = response.data;\n      this.setState({categories: responseData.category})\n    });\n  };\n\n  save = () => {\n  let data = new FormData();\n\n  if (this.state.title === null) {\n    document.getElementById(\"titlevalid\").innerText =\n        \"*this field is required\";\n  } else {\n    document.getElementById(\"titlevalid\").innerText = \"\";\n  }\n  if (this.state.description == null) {\n    document.getElementById(\"descvalid\").innerText =\n        \"*this field is required\";\n  } else {\n    document.getElementById(\"descvalid\").innerText = \"\";\n  }\n  if (this.state.content == null) {\n    document.getElementById(\"contentvalid\").innerText =\n        \"*this field is required\";\n  } else {\n    document.getElementById(\"contentvalid\").innerText = \"\";\n  }\n  if (\n      this.state.title !== null &&\n      this.state.description !== null &&\n      this.state.content !== null\n  ) {\n\n    data.append(\"title\", this.state.title);\n    data.append(\"category\", this.state.category);\n    data.append(\"user\", this.props.user.username);\n    data.append(\"description\", this.state.description);\n    data.append(\"thumbnail\", this.state.thumbnail);\n    data.append(\"content\", this.state.content);\n\n    let endpoint = `create-article`\n    let token = this.props.user.token\n\n    axios\n      .post(endpoint, data, token)\n      .then((response) => {\n\n      const responseData = response.data;\n      let msg = responseData.error || responseData.msg\n      if (responseData.success) {\n        document.getElementById(\"last_updated\").className =\n            \"alert alert-success\";\n        document.getElementById(\"last_updated\").innerText = msg;\n        window.scrollTo(0, 0);\n      } else {\n        document.getElementById(\"last_updated\").className =\n            \"alert alert-danger\";\n        document.getElementById(\"last_updated\").innerText = msg;\n        window.scrollTo(0, 0);\n      }\n    });\n  }\n  };\n\n  showOutput = () => {\n    this.setState({show: !this.state.show})\n  };\n\n  render() {\n    const show = this.state.show\n    console.log({\"cat\":this.state.category})\n\n    return (\n        <div>\n          <div\n              style={{textAlign: \"center\", position: \"relative\", width: \"100%\"}}\n              id=\"last_updated\"\n          />\n\n          <div className=\"container-fluid\" style={{padding: \"35px\"}}>\n\n            <div className=\"section-header container\">\n                <h1 className=\"today\">Publish New Article</h1>\n            </div>\n\n            <div style={{marginTop: \"-70px\"}}>\n              <button\n                  className=\"myBtn\"\n\n                  onClick={this.showOutput}\n                  id=\"btn1995\"\n              >\n                {this.state.show ? \"Hide Output\" : \"Show Output\"}\n              </button>\n              </div>\n\n            <div className={this.state.show ? \"row\" : null}\n                style={{textAlign: \"center\", marginTop: \"130px\"}}\n                id=\"live_editor\"\n            >\n              <div id=\"myDIV\" className={this.state.show ? \"col-sm-6\" : \"container\"}>\n                <br/>\n                <label>Title:</label>\n                <input\n                    type=\"text\"\n                    // onChange={this.setState({content: e.target.value})}\n                    onChange={(e) => this.setState({title: e.target.value})}\n                    id=\"title_write_article\"\n                    className=\"form-control\"\n                    placeholder=\"Title\"\n                    aria-label=\"Recipient's username\"\n                    aria-describedby=\"basic-addon2\"\n                />\n                <p style={{color: \"red\", textAlign: \"left\"}} id=\"titlevalid\"></p>\n                <br/>\n                <label>Category:</label>\n                <select className=\"browser-default custom-select\" onChange={(e) => this.setState({category: e.target.value})} >\n                  {this.state.categories?this.state.categories.map((item, index) => (\n                  // <option selected>Open this select menu</option>\n                  <option value={item} >{item}</option>\n                  )):null};\n                </select>\n                <br/>\n                <br/>\n                <br/>\n                <label>Description:</label>\n                <input\n                    type=\"text\"\n                    id=\"description_write_article\"\n                    className=\"form-control\"\n                    onChange={(e)=>this.setState({description: e.target.value})}\n                    placeholder=\"Concise and catchy description of your article in 250 characters\"\n                    aria-label=\"Recipient's username\"\n                    aria-describedby=\"basic-addon2\"\n                />\n                <p style={{color: \"red\", textAlign: \"left\"}} id=\"descvalid\"></p>\n                <br/>\n\n                <label>Content:</label>\n                <CKEditor\n                    config={{\n                      extraPlugins: [\n                        \"justify\",\n                        \"showblocks\",\n                        \"preview\",\n                        \"font\",\n                        \"div\",\n                        \"colorbutton\",\n                        \"autogrow\",\n                        \"image\",\n                        \"flash\",\n                        \"smiley\",\n                        \"iframe\",\n                        \"find\",\n                        \"filebrowser\",\n                        \"uploadimage\",\n                      ],\n                      filebrowserUploadMethod: \"form\",\n                      filebrowserImageUploadUrl: \"/upload/\",\n                    }}\n                    type=\"classic\"\n                    onResize={() => $(\"#cke_editor1\").css(\"width\", \"100%\")}\n                    onChange={(evt) => this.setState({content: evt.editor.getData()})}\n                />\n\n                <p style={{color: \"red\", textAlign: \"left\"}} id=\"contentvalid\"/>\n                <br/>\n\n                <label>Thumbnail:</label>\n                <input\n                    type=\"file\"\n                    name=\"file\"\n                    id=\"file\"\n                    accept=\"image/x-png,image/gif,image/jpeg\"\n                    onChange={this.handleFileSelected}\n                />\n                <p style={{color: \"red\", textAlign: \"left\"}} id=\"thumbnailvalid\" ></p>\n                <br/>\n\n                <input\n                    onClick={this.save}\n                    type=\"submit\"\n                    className=\"btn btn-primary\"\n                    value=\"Save\"\n                />\n                <br/>\n                <br/>\n                <br/>\n              </div>\n\n              {show ? (\n                  <div className=\"myText col-sm-6\">\n                    <br/>\n                    <h3>Output</h3>\n                    <hr/>\n                    <div style={{height: \"800px\"}}>\n                      <div\n                          style={{textAlign: \"justify\"}}\n                          dangerouslySetInnerHTML={{__html: this.state.content}}\n                      ></div>\n                    </div>\n                  </div>\n              ) : null}\n            </div>\n          </div>\n        </div>\n    );\n  };\n};\n\nconst mapStateToProps = state =>({\n    user:state.userData.cardData\n})\n\n\nexport default connect(mapStateToProps)(WriteArticle);"]},"metadata":{},"sourceType":"module"}