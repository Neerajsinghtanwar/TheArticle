{"ast":null,"code":"import _asyncToGenerator from\"/home/neeraj/Desktop/the-artcles/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _classCallCheck from\"/home/neeraj/Desktop/the-artcles/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/home/neeraj/Desktop/the-artcles/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/home/neeraj/Desktop/the-artcles/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/home/neeraj/Desktop/the-artcles/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import _regeneratorRuntime from\"/home/neeraj/Desktop/the-artcles/node_modules/@babel/runtime/regenerator/index.js\";import React,{useCallback}from\"react\";import'./Home.css';import{connect}from\"react-redux\";import{Link,Redirect}from\"react-router-dom\";import{axios,url}from\"../../Store/actions/actions\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var home=/*#__PURE__*/function(_React$Component){_inherits(home,_React$Component);var _super=_createSuper(home);function home(){var _this;_classCallCheck(this,home);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={blog:null,cat:null,selectedCat:null,slug:null,comment:null,searchResult:null,notification:null};_this.like=function(){var data={};var endpoint=\"like-blog/\".concat(_this.state.slug);var token=_this.props.user.token;axios.post(endpoint,data,token).then(function(res){var responseData=res.data;if(responseData.success===true){_this.loadHomePageWithAxios();}});};_this.commentLike=function(slug){var data={};var endpoint=\"like-comment/\".concat(slug);var token=_this.props.user.token;axios.post(endpoint,data,token).then(function(res){var responseData=res.data;if(responseData.success===true){_this.loadHomePageWithAxios();}});};_this.postComment=function(){var data={text:_this.state.comment};var endpoint=\"post-comment/\".concat(_this.state.slug);var token=_this.props.user.token;axios.post(endpoint,data,token).then(function(res){var responseData=res.data;if(responseData.success===true){_this.setState({slug:null});_this.loadHomePageWithAxios();}});};_this.delete=function(slug){var endpoint=\"edit-article/\".concat(slug);var token=_this.props.user.token;axios.delete(endpoint,token).then(function(response){_this.loadHomePageWithAxios();var responseData=response.data;var msg=responseData.error||responseData.msg;if(responseData.success){document.getElementById(\"last_updated\").className=\"alert alert-success\";document.getElementById(\"last_updated\").innerText=msg;window.scrollTo(0,0);}else{document.getElementById(\"last_updated\").className=\"alert alert-danger\";document.getElementById(\"last_updated\").innerText=msg;window.scrollTo(0,0);}});};_this.categoryWiseBlogs=function(){var data={category:_this.state.selectedCat};console.log(_this.state.selectedCat);var endpoint=\"\";var token=_this.props.user.token;axios.post(endpoint,data,token).then(function(res){var responseData=res.data;_this.setState({blog:responseData.blog});});};_this.loadHomePageWithAxios=function(){var endpoint=\"\";var token=_this.props.user.token;axios.get(endpoint,token).then(function(res){var responseData=res.data;_this.setState({blog:responseData.blog});_this.setState({cat:responseData.category});});};return _this;}_createClass(home,[{key:\"componentDidMount\",value:function componentDidMount(){this.loadHomePageWithAxios();document.body.style.backgroundColor=\"#fff\";}},{key:\"search\",value:function(){var _search=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(data){var token,result;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return this.props.user.token;case 2:token=_context.sent;_context.next=5;return fetch(\"\".concat(url,\"search/\").concat(data===''?'e-m-p-t-y':data),token);case 5:result=_context.sent;_context.next=8;return result.json();case 8:result=_context.sent;this.setState({searchResult:result.user});this.setState({blog:result.blog});case 11:case\"end\":return _context.stop();}}},_callee,this);}));function search(_x){return _search.apply(this,arguments);}return search;}()},{key:\"render\",value:function render(){var _this2=this;return/*#__PURE__*/_jsx(\"div\",{children:this.props.user.login?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{style:{background:\"linear-gradient(90deg, #4b6cb7 0%, #182848 100%)\",height:\"67px\"},children:/*#__PURE__*/_jsx(\"div\",{className:\"container nav-scroller py-1 mb-2\",children:this.state.cat?/*#__PURE__*/_jsx(\"ul\",{className:\"nav nav-tabs nav2 d-flex justify-content-between cat_nav\",id:\"myTab\",role:\"tablist\",children:this.state.cat?this.state.cat.map(function(item,index){return/*#__PURE__*/_jsx(\"li\",{className:\"nav-item \",role:\"presentation\",onClick:function onClick(e){setTimeout(_this2.categoryWiseBlogs,0.1);_this2.setState({selectedCat:item});},children:/*#__PURE__*/_jsx(\"a\",{className:\"nav-link p-2 h-2\",id:\"profile-tab\",\"data-toggle\":\"tab\",role:\"tab\",\"aria-controls\":\"profile\",\"aria-selected\":\"false\",children:item})});}):null}):null})}),/*#__PURE__*/_jsx(\"div\",{style:{textAlign:\"center\",position:\"relative\",width:\"100%\"},id:\"last_updated\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"container-fluid row \",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-sm-2\",children:this.state.searchResult?/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"today\",style:{marginTop:\"150px\",marginBottom:'32px'},children:\"USERS\"}),/*#__PURE__*/_jsx(\"div\",{className:\"searchResult\",children:this.state.searchResult.map(function(item,index){return/*#__PURE__*/_jsx(\"div\",{className:\" mb-3 d-flex flex-row justify-content-between align-items-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex flex-row align-items-center\",children:[/*#__PURE__*/_jsx(\"img\",{className:\"rounded-circle\",src:url.slice(0,-1)+item.profile_pic,width:\"55\",height:\"55\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex flex-column align-items-start ml-2\",children:[/*#__PURE__*/_jsx(Link,{to:item.username===_this2.props.user.username?'/dashboard/'+item.username:'/profile/'+item.username,children:/*#__PURE__*/_jsx(\"span\",{className:\"font-weight-bold\",style:{color:'black'},children:item.fullname})}),/*#__PURE__*/_jsxs(\"span\",{className:\"followers\",children:[item.followers.length,\" Followers\"]})]})]})});})})]}):null}),/*#__PURE__*/_jsxs(\"div\",{className:\"cardBody col-sm-8 \",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"search-box mt-2\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"search-txt\",type:\"text\",placeholder:\"search\",onChange:function onChange(e){return _this2.search(e.target.value);}}),/*#__PURE__*/_jsx(\"a\",{className:\"search-btn\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-search\",style:{height:\"22px\",width:\"22px\"}})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"section-header mt-5\",children:/*#__PURE__*/_jsxs(\"h1\",{className:\"today\",children:[\"TODAY \",this.state.selectedCat,\" ARTICLES\"]})}),this.state.blog?this.state.blog.map(function(item,index){return/*#__PURE__*/_jsxs(\"div\",{className:\" container dashCardBody\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"userDetail row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-sm-3 col-md-2 col-lg-2 \",children:/*#__PURE__*/_jsx(\"img\",{className:\"homeProfile-pic\",src:url+'media/'+item.profile_pic})}),/*#__PURE__*/_jsxs(\"div\",{className:\"nameTime col-sm-7 col-md-8 col-lg-8\",children:[/*#__PURE__*/_jsx(Link,{to:item.username===_this2.props.user.username?'/dashboard/'+item.username:'/profile/'+item.username,children:/*#__PURE__*/_jsx(\"h6\",{className:\"profile-username\",children:item.fullname})}),/*#__PURE__*/_jsx(\"p\",{className:\"home-timestamp\",children:item.timeStamp})]}),item.username===_this2.props.user.username?/*#__PURE__*/_jsx(\"div\",{className:\"hdtm col-sm-2 col-md-2 col-lg-2\",children:/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"home-dotButton dropdown\",children:[/*#__PURE__*/_jsx(\"i\",{className:\" fa fa-ellipsis-h\",id:\"dropdownMenuButton\",\"data-toggle\":\"dropdown\",\"aria-haspopup\":\"true\",\"aria-expanded\":\"false\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"dropdown-menu\",\"aria-labelledby\":\"dropdownMenuButton\",children:[/*#__PURE__*/_jsx(Link,{to:'/edit-article/'+item.slug,children:/*#__PURE__*/_jsx(\"a\",{className:\"dropdown-item\",children:\"Edit\"})}),/*#__PURE__*/_jsx(\"a\",{onClick:function onClick(e){return _this2.delete(item.slug);},className:\"dropdown-item\",children:\"Delete\"})]})]})})}):null]}),/*#__PURE__*/_jsxs(\"div\",{className:\"userDetailSm row\",style:{display:\"none\"},children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-xs-3\",children:/*#__PURE__*/_jsx(\"img\",{className:\"homeProfile-pic\",src:url+'media/'+item.profile_pic,style:{marginLeft:\"16px\"}})}),/*#__PURE__*/_jsxs(\"div\",{className:\"nameTime col-xs-7\",style:{marginLeft:\"10px\"},children:[/*#__PURE__*/_jsx(Link,{to:item.username===_this2.props.user.username?'/dashboard/'+item.username:'/profile/'+item.username,children:/*#__PURE__*/_jsx(\"h6\",{className:\"profile-username\",style:{fontSize:\"15px\",marginBottom:\"0px\"},children:item.fullname})}),/*#__PURE__*/_jsx(\"p\",{className:\"home-timestamp\",children:item.timeStamp})]}),item.username===_this2.props.user.username?/*#__PURE__*/_jsx(\"div\",{className:\"col-xs-2\",style:{marginLeft:\"60px\"},children:/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"home-dotButton dropdown\",children:[/*#__PURE__*/_jsx(\"i\",{className:\" fa fa-ellipsis-h\",id:\"dropdownMenuButton\",\"data-toggle\":\"dropdown\",\"aria-haspopup\":\"true\",\"aria-expanded\":\"false\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"dropdown-menu\",\"aria-labelledby\":\"dropdownMenuButton\",children:[/*#__PURE__*/_jsx(Link,{to:'/edit-article/'+item.slug,children:/*#__PURE__*/_jsx(\"a\",{className:\"dropdown-item\",children:\"Edit\"})}),/*#__PURE__*/_jsx(\"a\",{onClick:function onClick(e){return _this2.delete(item.slug);},className:\"dropdown-item\",children:\"Delete\"})]})]})})}):null]}),/*#__PURE__*/_jsxs(\"article\",{className:\"postcard light yellow\",children:[/*#__PURE__*/_jsx(\"a\",{className:\"postcard__img_link\",href:\"#\",children:/*#__PURE__*/_jsx(\"img\",{className:\"postcard__img\",src:url.slice(0,-1)+item.thumbnail,alt:\"Image Title\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"postcard__text t-dark\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"postcard__title yellow\",children:item.title.substring(0,25)+'...'}),/*#__PURE__*/_jsx(\"div\",{className:\"postcard__subtitle small\",children:/*#__PURE__*/_jsxs(\"time\",{dateTime:\"2020-05-25 12:00:00\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-calendar-alt mr-2\"}),item.timeStamp]})}),/*#__PURE__*/_jsx(\"div\",{className:\"postcard__bar\"}),/*#__PURE__*/_jsx(\"div\",{className:\"postcard__preview-txt\",children:item.description.substring(0,300)+'......'}),/*#__PURE__*/_jsx(\"div\",{className:\"homeFab3\",\"data-toggle\":\"modal\",\"data-target\":\"#dashContentModal\"+item.slug,children:\"Read more...\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"row  mt-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col-3\",onClick:function onClick(e){_this2.setState({slug:item.slug});setTimeout(_this2.like,1);},children:[item.CheckLikes?/*#__PURE__*/_jsx(\"img\",{src:url+'media/images/redHeart.png',height:'35px'}):/*#__PURE__*/_jsx(\"img\",{src:url+'media/images/heart2.png',height:'35px'}),/*#__PURE__*/_jsxs(\"p\",{className:\"btn_font\",children:[item.like.length,\" Likes\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-3\",onClick:function onClick(e){return _this2.setState({slug:item.slug});},\"data-toggle\":\"modal\",\"data-target\":\"#dashCommentModal\"+item.slug,children:[/*#__PURE__*/_jsx(\"i\",{className:\"far fa-comment fa-2x\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"btn_font\",children:[item.comments.length,\" Comments\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"modal fade\",id:\"dashCommentModal\"+item.slug,tabIndex:\"-1\",\"aria-labelledby\":\"exampleModalLabel\",\"aria-hidden\":\"true\",children:/*#__PURE__*/_jsx(\"div\",{className:\"modal-dialog modal-dialog-centered modal-dialog-scrollable\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal-content\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"modal-header\",children:/*#__PURE__*/_jsx(\"h4\",{children:\"Comments\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"modal-body\",children:/*#__PURE__*/_jsx(\"div\",{className:\"\",children:/*#__PURE__*/_jsx(\"div\",{className:\"d-flex justify-content-center row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-md-11\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex flex-column comment-section\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"commentsHeight\",children:item.comments.map(function(comnt,num){return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex flex-row user-info\",children:[/*#__PURE__*/_jsx(\"img\",{className:\"rounded-circle\",src:url+'media/'+comnt.profile_pic,width:\"40\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex flex-column justify-content-start ml-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"d-block font-weight-bold name\",children:comnt.fullname}),/*#__PURE__*/_jsx(\"span\",{className:\"date text-black-50\",children:'Shared publicly - '+comnt.timeStamp})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-2\",children:/*#__PURE__*/_jsx(\"small\",{className:\"comment-text\",children:comnt.text})}),/*#__PURE__*/_jsx(\"div\",{className:\"comment-like-button\",children:/*#__PURE__*/_jsx(\"small\",{className:\"comment-like-text\",onClick:function onClick(e){return _this2.commentLike(comnt.slug);},children:!comnt.CheckLike?'( '+comnt.like.length+' ) '+'Like':'( '+comnt.like.length+' ) '+'Unlike'})})]});})}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-light p-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex flex-row align-items-start\",children:[/*#__PURE__*/_jsx(\"img\",{className:\"rounded-circle\",src:\"https://i.imgur.com/RpzrMR2.jpg\",width:\"40\",alt:\"none\"}),/*#__PURE__*/_jsx(\"input\",{className:\"form-control ml-1 shadow-none textarea\",id:\"comment-text-value\",onChange:function onChange(e){return _this2.setState({comment:e.target.value});}})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-2 text-right\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary btn-sm shadow-none\",type:\"button\",onClick:function onClick(e){_this2.postComment(item.slug);document.getElementById(\"comment-text-value\").value='';},children:\"Post\"})})]})]})})})})})]})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-3\",onClick:_this2.share,children:[/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-share-alt fa-2x\",\"aria-hidden\":\"true\"}),/*#__PURE__*/_jsx(\"p\",{className:\"btn_font\",children:\"17 Shares\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"modal fade\",id:\"dashContentModal\"+item.slug,tabIndex:\"-1\",\"aria-labelledby\":\"exampleModalLabel\",\"aria-hidden\":\"true\",children:/*#__PURE__*/_jsx(\"div\",{className:\"modal-dialog modal-xl modal-dialog-scrollable\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal-content\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"modal-header\",children:/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"close\",\"data-dismiss\":\"modal\",\"aria-label\":\"Close\",children:/*#__PURE__*/_jsx(\"span\",{\"aria-hidden\":\"true\",children:\"\\xD7\"})})}),/*#__PURE__*/_jsx(\"div\",{className:\"modal-body\",children:/*#__PURE__*/_jsx(\"div\",{dangerouslySetInnerHTML:{__html:item.content}})})]})})})]})]}),/*#__PURE__*/_jsx(\"hr\",{className:\"dash-hr\"})]});}):null]}),/*#__PURE__*/_jsx(\"div\",{className:\"col-sm-2\",children:/*#__PURE__*/_jsx(Link,{to:'/write-article',children:/*#__PURE__*/_jsx(\"button\",{className:\"myBtn\",style:{marginTop:\"30px\"},children:\"Write Article\"})})})]})]}):/*#__PURE__*/_jsx(Redirect,{to:'/login'})});}}]);return home;}(React.Component);;var mapStateToProps=function mapStateToProps(state){return{user:state.userData.cardData};};export default connect(mapStateToProps)(home);","map":{"version":3,"sources":["/home/neeraj/Desktop/the-artcles/src/components/HomePage/Home.js"],"names":["React","useCallback","connect","Link","Redirect","axios","url","home","state","blog","cat","selectedCat","slug","comment","searchResult","notification","like","data","endpoint","token","props","user","post","then","res","responseData","success","loadHomePageWithAxios","commentLike","postComment","text","setState","delete","response","msg","error","document","getElementById","className","innerText","window","scrollTo","categoryWiseBlogs","category","console","log","get","body","style","backgroundColor","fetch","result","json","login","background","height","map","item","index","e","setTimeout","textAlign","position","width","marginTop","marginBottom","slice","profile_pic","username","color","fullname","followers","length","search","target","value","timeStamp","display","marginLeft","fontSize","thumbnail","title","substring","description","CheckLikes","comments","comnt","num","CheckLike","share","__html","content","Component","mapStateToProps","userData","cardData"],"mappings":"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","sourcesContent":["import React, {useCallback} from \"react\";\nimport './Home.css'\nimport {connect} from \"react-redux\";\nimport {Link, Redirect} from \"react-router-dom\";\nimport {axios, url} from \"../../Store/actions/actions\";\n\nclass home extends React.Component {\n\n    state = {\n        blog: null,\n        cat: null,\n        selectedCat: null,\n        slug: null,\n        comment: null,\n        searchResult: null,\n        notification: null\n\n    }\n\n    componentDidMount() {\n        this.loadHomePageWithAxios()\n        document.body.style.backgroundColor = \"#fff\"\n    }\n\n    like = () => {\n\n        const data = {\n        }\n        let endpoint = `like-blog/${this.state.slug}`\n        let token = this.props.user.token\n\n        axios\n            .post(endpoint, data, token)\n            .then((res)=>{\n                let responseData = res.data;\n                if (responseData.success === true){\n                    this.loadHomePageWithAxios();\n                }\n            })\n    }\n\n    commentLike = (slug) => {\n        const data = {\n        }\n        let endpoint = `like-comment/${slug}`\n        let token = this.props.user.token\n\n        axios\n            .post(endpoint, data, token)\n            .then((res)=>{\n                let responseData = res.data;\n                if (responseData.success === true){\n                    this.loadHomePageWithAxios();\n                }\n            })\n    }\n\n    postComment = () => {\n        const data = {\n            text: this.state.comment,\n        }\n\n        let endpoint = `post-comment/${this.state.slug}`\n        let token = this.props.user.token\n\n        axios\n            .post(endpoint, data, token)\n            .then((res)=>{\n                let responseData = res.data;\n                if (responseData.success === true){\n                    this.setState({slug:null})\n                    this.loadHomePageWithAxios();\n                }\n            })\n    }\n\n    async search(data) {\n\n        let token = await this.props.user.token\n        let result = await fetch(`${url}search/${data===''?'e-m-p-t-y':data}`, token);\n        result = await result.json()\n        this.setState({searchResult:result.user})\n        this.setState({blog:result.blog})\n\n    }\n\n    delete = (slug) => {\n        let endpoint = `edit-article/${slug}`\n        let token = this.props.user.token\n\n        axios\n            .delete(endpoint, token)\n            .then((response) => {\n            this.loadHomePageWithAxios()\n            const responseData = response.data;\n            let msg = responseData.error || responseData.msg\n            if (responseData.success) {\n                document.getElementById(\"last_updated\").className = \"alert alert-success\";\n                document.getElementById(\"last_updated\").innerText = msg;\n                window.scrollTo(0, 0);\n            } else {\n                document.getElementById(\"last_updated\").className = \"alert alert-danger\";\n                document.getElementById(\"last_updated\").innerText = msg;\n                window.scrollTo(0, 0);\n                }\n            });\n    }\n\n    categoryWiseBlogs = () =>{\n        const data = {\n            category: this.state.selectedCat,\n        }\n        console.log(this.state.selectedCat)\n\n        let endpoint = ``\n        let token = this.props.user.token\n\n        axios\n            .post(endpoint, data, token)\n            .then((res)=>{\n                let responseData = res.data;\n                this.setState({blog: responseData.blog})\n            })\n\n    }\n\n    loadHomePageWithAxios = () =>{\n\n        let endpoint = ``\n        let token = this.props.user.token\n\n        axios\n            .get(endpoint, token)\n            .then((res)=>{\n                let responseData = res.data;\n                this.setState({blog: responseData.blog})\n                this.setState({cat: responseData.category})\n            })\n    }\n\n    render() {\n\n        return(\n            <div>\n                {this.props.user.login?\n                    <>\n                        <div style={{background: \"linear-gradient(90deg, #4b6cb7 0%, #182848 100%)\", height: \"67px\"}}>\n                            <div className=\"container nav-scroller py-1 mb-2\">\n                            {this.state.cat?\n                            <ul className=\"nav nav-tabs nav2 d-flex justify-content-between cat_nav\" id=\"myTab\" role=\"tablist\">\n                                {this.state.cat? this.state.cat.map((item, index) => (\n                                <li className=\"nav-item \"\n                                    role=\"presentation\"\n                                    onClick={(e)=> {\n                                           setTimeout(this.categoryWiseBlogs,0.1);\n                                           this.setState({selectedCat: item});\n                                       }\n                                    }\n                                >\n                                    <a className=\"nav-link p-2 h-2\" id=\"profile-tab\" data-toggle=\"tab\" role=\"tab\"\n                                       aria-controls=\"profile\" aria-selected=\"false\">{item}</a>\n                                </li>\n                                )):null}\n                            </ul>\n                            :null}\n                        </div>\n                        </div>\n                        <div\n                            style={{textAlign: \"center\", position: \"relative\", width: \"100%\"}}\n                            id=\"last_updated\"\n                        />\n                        <div className=\"container-fluid row \">\n                        <div className=\"col-sm-2\">\n                            {this.state.searchResult?\n                                <div>\n                                    <h1 className='today' style={{marginTop: \"150px\", marginBottom: '32px'}}>USERS</h1>\n                                    <div className='searchResult'>\n                                {this.state.searchResult.map((item, index) =>(\n\n                                <div className=\" mb-3 d-flex flex-row justify-content-between align-items-center\">\n                                    <div\n                                    className=\"d-flex flex-row align-items-center\">\n                                        <img\n                                        className=\"rounded-circle\"\n                                        src={url.slice(0, -1)+item.profile_pic}\n                                        width=\"55\"\n                                        height=\"55\"\n                                        />\n                                        <div className=\"d-flex flex-column align-items-start ml-2\">\n                                            <Link to={item.username===this.props.user.username?'/dashboard/'+ item.username:'/profile/'+ item.username}><span className=\"font-weight-bold\" style={{color:'black'}}>{item.fullname}</span></Link>\n                                            <span className=\"followers\">{item.followers.length} Followers</span>\n                                        </div>\n                                    </div>\n                                </div>\n\n                                ))}\n                                </div>\n                                </div>\n                            :null}\n                        </div>\n                        <div className=\"cardBody col-sm-8 \">\n                            <div className=\"search-box mt-2\">\n                                <input className=\"search-txt\" type=\"text\" placeholder=\"search\"\n                                    onChange={(e)=>this.search(e.target.value)}\n                                />\n                                <a className=\"search-btn\">\n                                    <i className=\"fas fa-search\" style={{height: \"22px\", width: \"22px\"}}/>\n                                </a>\n                            </div>\n\n                            <div className=\"section-header mt-5\">\n                                <h1 className=\"today\">TODAY {this.state.selectedCat} ARTICLES</h1>\n                            </div>\n\n                            {this.state.blog? this.state.blog.map((item, index) => (\n                                <div className=\" container dashCardBody\">\n                                    <div className=\"userDetail row\">\n                                        <div className=\"col-sm-3 col-md-2 col-lg-2 \">\n                                            <img className=\"homeProfile-pic\"\n                                                 src={url+'media/' + item.profile_pic}/>\n                                        </div>\n\n                                        <div className=\"nameTime col-sm-7 col-md-8 col-lg-8\">\n                                            <Link to={item.username===this.props.user.username?'/dashboard/'+ item.username:'/profile/'+ item.username}><h6 className=\"profile-username\">{item.fullname}</h6></Link>\n                                            <p className=\"home-timestamp\">{item.timeStamp}</p>\n                                        </div>\n                                        {item.username===this.props.user.username?\n                                            <div className=\"hdtm col-sm-2 col-md-2 col-lg-2\">\n                                                <div><div className=\"home-dotButton dropdown\"\n                                                >\n                                                    <i\n                                                        className=\" fa fa-ellipsis-h\"\n                                                        id=\"dropdownMenuButton\"\n                                                        data-toggle=\"dropdown\"\n                                                        aria-haspopup=\"true\"\n                                                        aria-expanded=\"false\"\n                                                    />\n                                                    <div className=\"dropdown-menu\" aria-labelledby=\"dropdownMenuButton\">\n                                                        <Link to={'/edit-article/'+item.slug}><a className=\"dropdown-item\">Edit</a></Link>\n                                                        <a onClick={(e)=>this.delete(item.slug)} className=\"dropdown-item\">Delete</a>\n                                                    </div>\n                                                </div></div>\n                                            </div>\n                                        :null}\n                                    </div>\n                                    <div className=\"userDetailSm row\"\n                                         style={{display: \"none\"}}\n                                    >\n                                        <div className=\"col-xs-3\">\n                                            <img className=\"homeProfile-pic\"\n                                                 src={url+'media/' + item.profile_pic}\n                                                 style={{marginLeft: \"16px\"}}\n                                            />\n                                        </div>\n\n                                        <div className=\"nameTime col-xs-7\" style={{marginLeft: \"10px\"}}>\n                                            <Link to={item.username===this.props.user.username?'/dashboard/'+ item.username:'/profile/'+ item.username}><h6 className=\"profile-username\" style={{fontSize: \"15px\", marginBottom:\"0px\"}}>{item.fullname}</h6></Link>\n                                            <p className=\"home-timestamp\">{item.timeStamp}</p>\n                                        </div>\n                                        {item.username===this.props.user.username?\n                                            <div className=\"col-xs-2\" style={{marginLeft: \"60px\"}}>\n                                                <div><div className=\"home-dotButton dropdown\"\n                                                >\n                                                    <i\n                                                        className=\" fa fa-ellipsis-h\"\n                                                        id=\"dropdownMenuButton\"\n                                                        data-toggle=\"dropdown\"\n                                                        aria-haspopup=\"true\"\n                                                        aria-expanded=\"false\"\n                                                    />\n                                                    <div className=\"dropdown-menu\" aria-labelledby=\"dropdownMenuButton\">\n                                                        <Link to={'/edit-article/'+item.slug}><a className=\"dropdown-item\">Edit</a></Link>\n                                                        <a onClick={(e)=>this.delete(item.slug)} className=\"dropdown-item\">Delete</a>\n                                                    </div>\n                                                </div></div>\n                                            </div>\n                                        :null}\n                                    </div>\n                                    {/*<---------------Article---------------->*/}\n                                    <article className=\"postcard light yellow\">\n                                        <a className=\"postcard__img_link\" href=\"#\">\n                                            <img className=\"postcard__img\"\n                                                 src={url.slice(0, -1) + item.thumbnail}\n                                                 alt=\"Image Title\"/>\n                                        </a>\n                                        <div className=\"postcard__text t-dark\">\n                                            <h1 className=\"postcard__title yellow\">{item.title.substring(0, 25) + '...'}</h1>\n                                            <div className=\"postcard__subtitle small\">\n                                                <time dateTime=\"2020-05-25 12:00:00\">\n                                                    <i className=\"fas fa-calendar-alt mr-2\"/>{item.timeStamp}</time>\n                                            </div>\n                                            <div className=\"postcard__bar\"></div>\n                                            <div\n                                                className=\"postcard__preview-txt\">{item.description.substring(0, 300) + '......'}\n                                            </div>\n                                            <div className=\"homeFab3\" data-toggle=\"modal\"\n                                                 data-target={\"#dashContentModal\" + item.slug}>Read more...\n                                            </div>\n\n                                            <div className=\"row  mt-3\">\n                                                <div className=\"col-3\" onClick={(e)=> {\n                                                    this.setState({slug:item.slug});\n                                                    setTimeout(this.like,1);\n                                                }}>\n                                                    {item.CheckLikes?(\n                                                            <img src={url + 'media/images/redHeart.png'} height={'35px'}/>\n                                                        ):(\n                                                            <img src={url+'media/images/heart2.png'} height={'35px'}/>\n                                                        )}\n                                                    <p className=\"btn_font\">{item.like.length} Likes</p>\n                                                </div>\n\n                                                <div className=\"col-3\"\n                                                     onClick={(e)=> this.setState({slug: item.slug})}\n                                                     data-toggle=\"modal\"\n                                                     data-target={\"#dashCommentModal\"+item.slug}>\n                                                    <i className=\"far fa-comment fa-2x\"></i>\n                                                    <p className=\"btn_font\">{item.comments.length} Comments</p>\n                                                </div>\n\n                                                {/*<---------------comment modal---------------->*/}\n                                                <div className=\"modal fade\" id={\"dashCommentModal\"+item.slug} tabIndex=\"-1\" aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\">\n                                                <div className=\"modal-dialog modal-dialog-centered modal-dialog-scrollable\">\n                                                    <div className=\"modal-content\">\n                                                        <div className=\"modal-header\">\n                                                            <h4>Comments</h4>\n                                                        </div>\n                                                        <div className=\"modal-body\">\n                                                            <div className=\"\">\n                                                                <div\n                                                                    className=\"d-flex justify-content-center row\">\n                                                                    <div className=\"col-md-11\">\n                                                                        <div\n                                                                            className=\"d-flex flex-column comment-section\">\n                                                                            <div className=\"commentsHeight\">\n                                                                                {item.comments.map((comnt, num) =>(\n                                                                                <div className=\"bg-white p-2\">\n                                                                                    <div className=\"d-flex flex-row user-info\">\n                                                                                        <img\n                                                                                            className=\"rounded-circle\"\n                                                                                            src={url+'media/' + comnt.profile_pic}\n                                                                                            width=\"40\"/>\n                                                                                            <div\n                                                                                                className=\"d-flex flex-column justify-content-start ml-2\">\n                                                                                                <span\n                                                                                                    className=\"d-block font-weight-bold name\">\n                                                                                                    {comnt.fullname}\n                                                                                                </span><span\n                                                                                                className=\"date text-black-50\">\n                                                                                                {/*Shared publicly - Jan 2020*/}\n                                                                                                {'Shared publicly - '+comnt.timeStamp}\n                                                                                            </span>\n                                                                                            </div>\n                                                                                    </div>\n                                                                                    <div className=\"mt-2\">\n                                                                                        <small className=\"comment-text\">{comnt.text}</small>\n                                                                                    </div>\n\n                                                                                    <div className=\"comment-like-button\">\n                                                                                        <small\n                                                                                            className=\"comment-like-text\"\n                                                                                            onClick={(e)=>this.commentLike(comnt.slug)}\n                                                                                        >{!comnt.CheckLike?\n                                                                                            '( '+comnt.like.length+' ) '+'Like'\n                                                                                            :'( '+comnt.like.length+' ) '+'Unlike'}\n                                                                                        </small>\n                                                                                    </div>\n\n                                                                                </div>\n\n                                                                                ))}\n                                                                            </div>\n\n                                                                            <div className=\"bg-light p-2\">\n                                                                                <div className=\"d-flex flex-row align-items-start\">\n                                                                                    <img className=\"rounded-circle\"\n                                                                                        src=\"https://i.imgur.com/RpzrMR2.jpg\"\n                                                                                        width=\"40\"\n                                                                                        alt=\"none\"\n                                                                                    />\n                                                                                    <input\n                                                                                        className=\"form-control ml-1 shadow-none textarea\"\n                                                                                        id=\"comment-text-value\"\n                                                                                        onChange={(e)=>this.setState({comment:e.target.value})}\n                                                                                    />\n                                                                                </div>\n                                                                                <div\n                                                                                    className=\"mt-2 text-right\">\n                                                                                    <button\n                                                                                        className=\"btn btn-primary btn-sm shadow-none\"\n                                                                                        type=\"button\"\n                                                                                        onClick={(e)=> {\n                                                                                            this.postComment(item.slug);\n                                                                                            document.getElementById(\"comment-text-value\").value = ''\n                                                                                        }\n                                                                                    }\n                                                                                    >Post\n                                                                                    </button>\n                                                                                </div>\n                                                                            </div>\n                                                                        </div>\n                                                                    </div>\n                                                                </div>\n                                                            </div>\n                                                        </div>\n                                                    </div>\n                                                </div>\n\n                                            </div>\n                                                {/*<---------------End comment modal---------------->*/}\n\n                                                <div className=\"col-3\" onClick={this.share}>\n                                                    <i className=\"fa fa-share-alt fa-2x\" aria-hidden=\"true\"></i>\n                                                    <p className=\"btn_font\">17 Shares</p>\n                                                </div>\n                                            </div>\n\n                                            {/*<---------------Content modal---------------->*/}\n                                            <div className=\"modal fade\" id={\"dashContentModal\" + item.slug} tabIndex=\"-1\"\n                                                 aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\">\n                                                <div className=\"modal-dialog modal-xl modal-dialog-scrollable\">\n                                                    <div className=\"modal-content\">\n                                                        <div className=\"modal-header\">\n                                                            <button type=\"button\" className=\"close\"\n                                                                    data-dismiss=\"modal\"\n                                                                    aria-label=\"Close\">\n                                                                <span aria-hidden=\"true\">&times;</span>\n                                                            </button>\n                                                        </div>\n                                                        <div className=\"modal-body\">\n                                                            <div dangerouslySetInnerHTML={{__html: item.content}}/>\n                                                        </div>\n                                                    </div>\n                                                </div>\n                                            </div>\n                                            {/*<---------------End content modal---------------->*/}\n\n                                        </div>\n                                    </article>\n                                    {/*<---------------End Article---------------->*/}\n                                    <hr className=\"dash-hr\"/>\n                                </div>\n                             )):null}\n\n                        </div>\n                        <div className=\"col-sm-2\">\n                            <Link to={'/write-article'}><button className=\"myBtn\" style={{marginTop: \"30px\"}}>\n                                Write Article\n                            </button></Link>\n                        </div>\n                    </div>\n                    </>\n                :<Redirect to={'/login'}/>}\n            </div>\n            )\n    }\n};\n\nconst mapStateToProps = state =>({\n    user:state.userData.cardData\n})\n\nexport default connect(mapStateToProps)(home)\n\n"]},"metadata":{},"sourceType":"module"}